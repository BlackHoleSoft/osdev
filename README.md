# osdev

Сборка базовой системы с кастомным initrd

1. Отформатировать диск (mkfs.ext4 /dev/sdb1)
2. Примонтировать и создать каталог boot
3. Скопировать ядро (alpine linux)
4. Создать каталог в другом месте для создания rootfs
5. В этом каталоге создать базовые директории, добавить скрипт init
6. Скопировать нужные библотеки (можно посмотреть через ldd) и /sbin/init, который будет вызываться в скрипте
7. Собрать образ rootfs

cd $ROOTFS
find . | cpio -R root:root -H newc -o | gzip > $SOURCE_DIR/iso/boot/rootfs.gz

8. Установить GRUB


# пример init
/init.sh
